{"ast":null,"code":"var _jsxFileName = \"/Users/nhilai/Documents/GitHub/CapstoneEyes/frontend/src/Screens/signupScreen/signupScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport SignupForm from '../../Components/Signupform/SignupForm';\nimport { useNavigate } from 'react-router-dom';\nimport axiosInstance from '../../axios';\nimport axios, { AxiosError } from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function SignUpScreen() {\n  _s();\n\n  const history = useNavigate();\n  const [user, setUser] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const Signup = (details, repeatPassword) => {\n    console.log(details);\n\n    if (details.email === '' || details.username === '' || details.password === '') {\n      setError('Please fill in the required details');\n    } else {\n      if (details.password !== repeatPassword) {\n        console.log(\"unmatched password\");\n        setError(\"Unmatched password. Please try again!\"); //   setUser({\n        //       username: details.username,\n        //       email: details.email,\n        //       password: details.password\n        //   })\n      } else {\n        console.log(\"Matched password\");\n        axiosInstance.post('user/create/', {\n          email: details.email,\n          user_name: details.username,\n          password: details.password\n        }).then(res => {\n          history('/login');\n          console.log(res.data);\n          console.log(res);\n        }).catch(err => {\n          if (err.response.data[0] === 'This username already exists') {\n            setError('This username already exists. Please try again!');\n          } else if (err.response.status === 500) {\n            setError('This email already exists. Please try again!');\n          } else {\n            console.error(err);\n          }\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(SignupForm, {\n      Signup: Signup,\n      error: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 7\n  }, this);\n}\n\n_s(SignUpScreen, \"AL6Bq+u+OXN1x+WFOPaSZlOAxlM=\", false, function () {\n  return [useNavigate];\n});\n\n_c = SignUpScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpScreen\");","map":{"version":3,"sources":["/Users/nhilai/Documents/GitHub/CapstoneEyes/frontend/src/Screens/signupScreen/signupScreen.js"],"names":["React","useState","SignupForm","useNavigate","axiosInstance","axios","AxiosError","SignUpScreen","history","user","setUser","username","email","password","repeatPassword","setRepeatPassword","error","setError","Signup","details","console","log","post","user_name","then","res","data","catch","err","response","status"],"mappings":";;;AACA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,UAAP,MAAuB,wCAAvB;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AACA,OAAOC,aAAP,MAA0B,aAA1B;AACA,OAAOC,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;;AAEA,OAAO,SAASC,YAAT,GAAuB;AAAA;;AAE5B,QAAMC,OAAO,GAAGL,WAAW,EAA3B;AACA,QAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC;AAACU,IAAAA,QAAQ,EAAE,EAAX;AAAeC,IAAAA,KAAK,EAAE,EAAtB;AAA0BC,IAAAA,QAAQ,EAAE;AAApC,GAAD,CAAhC;AACA,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCd,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMiB,MAAM,GAAG,CAACC,OAAD,EAAUL,cAAV,KAA6B;AACxCM,IAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;;AACA,QAAKA,OAAO,CAACP,KAAR,KAAkB,EAAnB,IAA2BO,OAAO,CAACR,QAAR,KAAqB,EAAhD,IAAwDQ,OAAO,CAACN,QAAR,KAAqB,EAAjF,EAAqF;AACnFI,MAAAA,QAAQ,CAAC,qCAAD,CAAR;AACD,KAFD,MAGI;AACF,UAAIE,OAAO,CAACN,QAAR,KAAqBC,cAAzB,EAAwC;AAChCM,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACAJ,QAAAA,QAAQ,CAAC,uCAAD,CAAR,CAFgC,CAGpC;AACA;AACA;AACA;AACA;AACH,OARD,MAQO;AACCG,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAjB,QAAAA,aAAa,CACRkB,IADL,CACU,cADV,EAC0B;AAClBV,UAAAA,KAAK,EAAEO,OAAO,CAACP,KADG;AAElBW,UAAAA,SAAS,EAAEJ,OAAO,CAACR,QAFD;AAGlBE,UAAAA,QAAQ,EAAEM,OAAO,CAACN;AAHA,SAD1B,EAMKW,IANL,CAMWC,GAAD,IAAS;AACXjB,UAAAA,OAAO,CAAC,QAAD,CAAP;AACAY,UAAAA,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACC,IAAhB;AACAN,UAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACP,SAVD,EAUGE,KAVH,CAUUC,GAAD,IAAS;AACd,cAAIA,GAAG,CAACC,QAAJ,CAAaH,IAAb,CAAkB,CAAlB,MAAyB,8BAA7B,EAA4D;AACxDT,YAAAA,QAAQ,CAAC,iDAAD,CAAR;AACH,WAFD,MAEO,IAAIW,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GAA5B,EAAgC;AACnCb,YAAAA,QAAQ,CAAC,8CAAD,CAAR;AACH,WAFM,MAED;AACFG,YAAAA,OAAO,CAACJ,KAAR,CAAcY,GAAd;AACP;AACJ,SAlBG;AAmBX;AAAC;AACH,GApCD;;AAsCA,sBACI;AAAK,IAAA,SAAS,EAAG,KAAjB;AAAA,2BACI,QAAC,UAAD;AAAY,MAAA,MAAM,EAAEV,MAApB;AAA4B,MAAA,KAAK,EAAIF;AAArC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAKD;;GAlDeT,Y;UAEEJ,W;;;KAFFI,Y","sourcesContent":["\nimport React, {useState} from 'react';\nimport SignupForm from '../../Components/Signupform/SignupForm';\nimport {useNavigate} from 'react-router-dom'\nimport axiosInstance from '../../axios';\nimport axios, { AxiosError } from 'axios';\n\nexport function SignUpScreen(){\n\n  const history = useNavigate();\n  const [user, setUser] = useState({username: \"\", email: \"\", password: \"\"});\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  \n  const Signup = (details, repeatPassword) => {\n      console.log(details);\n      if ((details.email === '') || (details.username === '') || (details.password === '')){\n        setError('Please fill in the required details')\n      }\n      else{\n        if (details.password !== repeatPassword){\n                console.log(\"unmatched password\")\n                setError(\"Unmatched password. Please try again!\")\n            //   setUser({\n            //       username: details.username,\n            //       email: details.email,\n            //       password: details.password\n            //   })\n        } else {\n                console.log(\"Matched password\");\n                axiosInstance\n                    .post('user/create/', {\n                        email: details.email,\n                        user_name: details.username,\n                        password: details.password,\n                    }) \n                    .then((res) => {\n                        history('/login')\n                        console.log(res.data)\n                        console.log(res)\n                }).catch((err) => {\n                    if (err.response.data[0] === 'This username already exists'){\n                        setError('This username already exists. Please try again!')\n                    } else if (err.response.status === 500){\n                        setError('This email already exists. Please try again!')\n                    } else{\n                        console.error(err)\n                }\n            })\n    }}\n  }\n\n  return(\n      <div className = \"App\">\n          <SignupForm Signup={Signup} error = {error}/>    \n      </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}